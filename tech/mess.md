## 多写多读无锁队列(mpmcqueue)
* 两个接口: Enqueue, Dequeue
* 内存屏障、CAS操作、slot的版本号、自旋锁实现的lock-free
* cache-padding 防止伪共享
* 使用时发生段错误core dump，经过排查，这个无锁队列中使用了malloc，malloc没有调用构造函数导致的段错误
* 改正方法：把对象指针传入队列，而不是对象

## libco
* 汇编语言操作栈，实现协程切换
* Hook掉了阻塞系统调用，在调用这些函数时进行协程切换

## kv存储
* memcache —— 单进程多线程纯内存不落盘
* redis —— 单进程单线程内存数据结构，另开一个进程落盘
* bitcask —— data文件落盘、hint文件落盘、内存里存一个map，key到文件位置的映射。
* levelDB ?

## 深圳之旅
* 滨海大厦、飞亚达大厦、朗科大厦，滨海大厦真是霸气十足、非常具有现代感。
* 找一位入职比我早的同学取经，他也是写了kv。
* 他的kv是纯内存kv不用落盘，单进程单线程纯内存kv不加锁。
* 有点像不用落盘、不带数据结构的redis，或者说是单线程memcache
* 讨论了一下关于kv数据库的构想，读写性能要求和丢不丢数据要求总要权衡取舍，所以根据业务需求有很多不同版本的kv